"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[95],{3095:(e,s,r)=>{r.r(s),r.d(s,{default:()=>w});var n=r(5043),i=r(6305),c=r(7488),t=r(7443),a=r(4375),l=r(1341),o=r(8259),d=r(756),h=r(6172),A=r(4799),x=r(5895),u=r(172),j=r(2097),f=r(579);const m=function(){const[e,s]=(0,n.useState)([]),[r,m]=(0,n.useState)(!0),g=async()=>{m(!0);try{const e=await i.A.get("/admin/users");s(e.data)}catch(e){c.oR.error("Failed to fetch users."),console.error("Error fetching users:",e)}finally{m(!1)}};return(0,n.useEffect)(()=>{g()},[]),r?(0,f.jsxs)(x.A,{align:"center",sx:{mt:4},children:[(0,f.jsx)(u.A,{sx:{mr:2}}),"Loading users..."]}):(0,f.jsxs)(o.A,{component:A.A,sx:{mt:4},children:[(0,f.jsx)(x.A,{variant:"h5",sx:{m:2},children:"Users"}),(0,f.jsxs)(t.A,{className:"management-table",children:[(0,f.jsx)(d.A,{children:(0,f.jsxs)(h.A,{children:[(0,f.jsx)(l.A,{children:"ID"}),(0,f.jsx)(l.A,{children:"Name"}),(0,f.jsx)(l.A,{children:"Email"}),(0,f.jsx)(l.A,{children:"User Type"}),(0,f.jsx)(l.A,{children:"Is Admin"}),(0,f.jsx)(l.A,{children:"Created At"}),(0,f.jsx)(l.A,{children:"Actions"})]})}),(0,f.jsx)(a.A,{children:e.map(e=>(0,f.jsxs)(h.A,{children:[(0,f.jsx)(l.A,{children:e.id}),(0,f.jsx)(l.A,{children:e.nombre}),(0,f.jsx)(l.A,{children:e.email}),(0,f.jsx)(l.A,{children:e.tipo_usuario}),(0,f.jsx)(l.A,{children:e.isAdmin?"Yes":"No"}),(0,f.jsx)(l.A,{children:new Date(e.fecha_creacion).toLocaleDateString()}),(0,f.jsx)(l.A,{children:(0,f.jsx)(j.A,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await i.A.delete("/admin/users/".concat(e)),c.oR.success("User deleted successfully."),g()}catch(n){var s,r;c.oR.error((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Failed to delete user."),console.error("Error deleting user:",n)}})(e.id),variant:"outlined",color:"error",children:"Delete"})})]},e.id))})]})]})};const g=function(){const[e,s]=(0,n.useState)([]),[r,m]=(0,n.useState)(!0),g=async()=>{m(!0);try{const e=await i.A.get("/admin/offers");s(e.data)}catch(e){c.oR.error("Failed to fetch offers."),console.error("Error fetching offers:",e)}finally{m(!1)}};return(0,n.useEffect)(()=>{g()},[]),r?(0,f.jsxs)(x.A,{align:"center",sx:{mt:4},children:[(0,f.jsx)(u.A,{sx:{mr:2}}),"Loading offers..."]}):(0,f.jsxs)(o.A,{component:A.A,sx:{mt:4},children:[(0,f.jsx)(x.A,{variant:"h5",sx:{m:2},children:"Offers"}),(0,f.jsxs)(t.A,{className:"management-table",children:[(0,f.jsx)(d.A,{children:(0,f.jsxs)(h.A,{children:[(0,f.jsx)(l.A,{children:"ID"}),(0,f.jsx)(l.A,{children:"Title"}),(0,f.jsx)(l.A,{children:"Offerer"}),(0,f.jsx)(l.A,{children:"Location"}),(0,f.jsx)(l.A,{children:"Position"}),(0,f.jsx)(l.A,{children:"Published Date"}),(0,f.jsx)(l.A,{children:"Actions"})]})}),(0,f.jsx)(a.A,{children:e.map(e=>(0,f.jsxs)(h.A,{children:[(0,f.jsx)(l.A,{children:e.id}),(0,f.jsx)(l.A,{children:e.titulo}),(0,f.jsx)(l.A,{children:e.nombre_ofertante}),(0,f.jsx)(l.A,{children:e.ubicacion}),(0,f.jsx)(l.A,{children:e.puesto}),(0,f.jsx)(l.A,{children:new Date(e.fecha_publicacion).toLocaleDateString()}),(0,f.jsx)(l.A,{children:(0,f.jsx)(j.A,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this offer?"))try{await i.A.delete("/admin/offers/".concat(e)),c.oR.success("Offer deleted successfully."),g()}catch(n){var s,r;c.oR.error((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Failed to delete offer."),console.error("Error deleting offer:",n)}})(e.id),variant:"outlined",color:"error",children:"Delete"})})]},e.id))})]})]})};var v=r(3309),y=r(2843),b=r(3969);const w=function(){const[e,s]=(0,n.useState)("users");return(0,f.jsxs)(b.A,{className:"admin-dashboard",sx:{mt:4},children:[(0,f.jsx)(x.A,{variant:"h4",sx:{mb:2},children:"Admin Dashboard"}),(0,f.jsxs)(v.A,{value:e,onChange:(e,r)=>{s(r)},"aria-label":"admin tabs",children:[(0,f.jsx)(y.A,{label:"User Management",value:"users"}),(0,f.jsx)(y.A,{label:"Offer Management",value:"offers"})]}),(0,f.jsxs)(b.A,{className:"admin-content",sx:{mt:3},children:["users"===e&&(0,f.jsx)(m,{}),"offers"===e&&(0,f.jsx)(g,{})]})]})}}}]);
//# sourceMappingURL=95.b10fe541.chunk.js.map