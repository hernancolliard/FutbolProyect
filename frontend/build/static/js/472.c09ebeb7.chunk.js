"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[472],{4472:(r,e,a)=>{a.r(e),a.d(e,{default:()=>h});var n=a(5043),o=a(6305),s=a(7488),t=a(579);const l=function(r){let{planType:e,children:a}=r;const l=(0,n.useRef)();return(0,n.useEffect)(()=>{window.paypal&&l.current&&0===l.current.children.length&&window.paypal.Buttons({createOrder:async(r,a)=>{try{return(await o.A.post("/payments/create-paypal-order",{planType:e})).data.orderID}catch(n){return console.error("Error al crear la orden de PayPal:",n),s.oR.error("Hubo un error al crear la orden de PayPal."),null}},onApprove:async(r,a)=>{try{(await o.A.post("/payments/capture-paypal-order",{orderID:r.orderID,planType:e})).data.success?(s.oR.success("\xa1Pago de PayPal exitoso!"),window.location.href="/pago-exitoso-paypal"):(s.oR.error("El pago de PayPal no se complet\xf3."),window.location.href="/pago-cancelado-paypal")}catch(n){console.error("Error al capturar el pago de PayPal:",n),s.oR.error("Hubo un error al capturar el pago de PayPal."),window.location.href="/pago-cancelado-paypal"}},onError:r=>{console.error("Error en el bot\xf3n de PayPal:",r),s.oR.error("Ocurri\xf3 un error con PayPal. Por favor, int\xe9ntalo de nuevo.")}}).render(l.current)},[e]),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[(0,t.jsxs)("button",{className:"subscribe-button",onClick:async()=>{try{if(!localStorage.getItem("token"))return void s.oR.error("Debes iniciar sesi\xf3n para suscribirte.");const r=await o.A.post("/payments/create-preference-mp",{planType:e});window.open(r.data.init_point,"_blank")}catch(n){var r,a;console.error("Error al suscribirse con Mercado Pago:",n),s.oR.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Hubo un error al procesar la suscripci\xf3n con Mercado Pago.")}},style:{width:"200px",height:"35px"},children:[a," Mercado Pago"]}),(0,t.jsx)("div",{ref:l})]})};var c=a(4117),i=a(1244),p=a(6128),d=a(5895),u=a(298);const h=function(){const{t:r}=(0,c.Bd)();return(0,t.jsxs)(u.A,{className:"subscription-container",spacing:4,sx:{mt:5,alignItems:"center"},children:[(0,t.jsx)(d.A,{variant:"h4",children:r("subscription_plans_title")}),(0,t.jsx)(d.A,{children:r("subscription_plans_subtitle")}),(0,t.jsxs)(u.A,{direction:{xs:"column",md:"row"},spacing:4,className:"plans",children:[(0,t.jsx)(i.A,{className:"plan",sx:{minWidth:300},children:(0,t.jsxs)(p.A,{children:[(0,t.jsx)(d.A,{variant:"h6",children:r("offerer_plan_title")}),(0,t.jsx)(d.A,{children:r("offerer_plan_description")}),(0,t.jsx)(l,{planType:"ofertante"})]})}),(0,t.jsx)(i.A,{className:"plan",sx:{minWidth:300},children:(0,t.jsxs)(p.A,{children:[(0,t.jsx)(d.A,{variant:"h6",children:r("applicant_plan_title")}),(0,t.jsx)(d.A,{children:r("applicant_plan_description")}),(0,t.jsx)(l,{planType:"postulante"})]})})]})]})}}}]);
//# sourceMappingURL=472.c09ebeb7.chunk.js.map