{"version":3,"file":"static/js/372.a73f023c.chunk.js","mappings":"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","sources":["components/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport apiClient from \"../services/api\";\nimport { GoogleLogin } from \"@react-oauth/google\";\nimport { useTranslation } from \"react-i18next\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport Alert from \"@mui/material/Alert\";\nimport MenuItem from \"@mui/material/MenuItem\";\n\nfunction Register({ onClose }) {\n  const { t } = useTranslation();\n  const [formData, setFormData] = useState({\n    nombre: \"\",\n    apellido: \"\",\n    telefono: \"\",\n    email: \"\",\n    password: \"\",\n    dni: \"\",\n    direccion: \"\",\n    ciudad: \"\",\n    pais: \"\",\n    tipo_usuario: \"postulante\",\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    try {\n      await apiClient.post(\"/users/register\", formData);\n      setSuccess(t(\"register_success\"));\n      // Limpiamos el formulario y no cerramos para que el usuario vea el mensaje.\n      // Opcionalmente, podríamos cerrar el modal después de unos segundos.\n      setFormData({\n        nombre: \"\",\n        apellido: \"\",\n        telefono: \"\",\n        email: \"\",\n        password: \"\",\n        dni: \"\",\n        direccion: \"\",\n        ciudad: \"\",\n        pais: \"\",\n        tipo_usuario: \"postulante\",\n      });\n    } catch (err) {\n      setError(err.response?.data?.message || t(\"register_error\"));\n    }\n  };\n\n  const handleGoogleSuccess = async (credentialResponse) => {\n    try {\n      const response = await apiClient.post(\"/users/auth/google\", {\n        id_token: credentialResponse.credential,\n      });\n      const { token } = response.data;\n      localStorage.setItem(\"token\", token);\n      setSuccess(t(\"register_with_google_success\"));\n      onClose(); // Cierra el modal después del registro/login con Google\n    } catch (err) {\n      setError(err.response?.data?.message || t(\"register_with_google_error\"));\n    }\n  };\n\n  const handleGoogleError = () => {\n    setError(t(\"register_with_google_error_retry\"));\n  };\n\n  return (\n    <div className=\"form-card\">\n      <h2>{t(\"register_title\")}</h2>\n      <form onSubmit={handleSubmit}>\n        <Stack spacing={2}>\n          <TextField\n            type=\"text\"\n            name=\"nombre\"\n            label={t(\"name_placeholder\")}\n            value={formData.nombre}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"text\"\n            name=\"apellido\"\n            label={t(\"lastname_placeholder\")}\n            value={formData.apellido}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"text\"\n            name=\"telefono\"\n            label={t(\"phone_placeholder\")}\n            value={formData.telefono}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"email\"\n            name=\"email\"\n            label={t(\"email_placeholder\")}\n            value={formData.email}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"password\"\n            name=\"password\"\n            label={t(\"password_placeholder\")}\n            value={formData.password}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"text\"\n            name=\"dni\"\n            label={t(\"dni_placeholder\")}\n            value={formData.dni}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"text\"\n            name=\"direccion\"\n            label={t(\"address_placeholder\")}\n            value={formData.direccion}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"text\"\n            name=\"ciudad\"\n            label={t(\"city_placeholder\")}\n            value={formData.ciudad}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            type=\"text\"\n            name=\"pais\"\n            label={t(\"country_placeholder\")}\n            value={formData.pais}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n          <TextField\n            select\n            name=\"tipo_usuario\"\n            label={t(\"user_type_label\")}\n            value={formData.tipo_usuario}\n            onChange={handleChange}\n            fullWidth\n          >\n            <MenuItem value=\"postulante\">{t(\"user_type_applicant\")}</MenuItem>\n            <MenuItem value=\"ofertante\">{t(\"user_type_offerer\")}</MenuItem>\n          </TextField>\n          <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={onClose}\n              type=\"button\"\n            >\n              {t(\"cancel_button\")}\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              {t(\"register_button\")}\n            </Button>\n          </Stack>\n        </Stack>\n      </form>\n      {error && (\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\n          {error}\n        </Alert>\n      )}\n      {success && (\n        <Alert severity=\"success\" sx={{ mt: 2 }}>\n          {success}\n        </Alert>\n      )}\n      <div style={{ marginTop: \"20px\", textAlign: \"center\" }}>\n        <p>{t(\"or_register_with\")}</p>\n        <GoogleLogin\n          onSuccess={handleGoogleSuccess}\n          onError={handleGoogleError}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n"],"names":["_ref","onClose","t","useTranslation","formData","setFormData","useState","nombre","apellido","telefono","email","password","dni","direccion","ciudad","pais","tipo_usuario","error","setError","success","setSuccess","handleChange","e","_objectSpread","target","name","value","_jsxs","className","children","_jsx","onSubmit","async","preventDefault","apiClient","post","err","_err$response","_err$response$data","response","data","message","Stack","spacing","TextField","type","label","onChange","required","fullWidth","select","MenuItem","direction","justifyContent","Button","variant","color","onClick","Alert","severity","sx","mt","style","marginTop","textAlign","GoogleLogin","onSuccess","id_token","credentialResponse","credential","token","localStorage","setItem","_err$response2","_err$response2$data","onError","handleGoogleError"],"sourceRoot":""}