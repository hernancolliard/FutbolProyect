{"version":3,"file":"static/js/584.10c6e9c7.chunk.js","mappings":"0PAiHA,QAtGA,SAAcA,GAAe,IAAd,QAAEC,GAASD,EACxB,MAAM,EAAEE,IAAMC,EAAAA,EAAAA,OACR,MAAEC,IAAUC,EAAAA,EAAAA,MACXC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CACvCC,MAAO,GACPC,SAAU,MAELC,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,IAE7BK,EAAgBC,IACpBP,GAAWQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIT,GAAQ,IAAE,CAACQ,EAAEE,OAAOC,MAAOH,EAAEE,OAAOE,UAiCvD,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAAD,SAAKnB,EAAE,kBACPoB,EAAAA,EAAAA,KAAA,QAAMC,SAjCWC,UACnBV,EAAEW,iBACFb,EAAS,IACT,IACE,MAAMc,QAAiBC,EAAAA,EAAUC,KAAK,eAAgBtB,IAChD,MAAEuB,GAAUH,EAASI,KAC3B1B,EAAMyB,GACN5B,GACF,CAAE,MAAO8B,GAAM,IAADC,EAAAC,EACZrB,GAAqB,QAAZoB,EAAAD,EAAIL,gBAAQ,IAAAM,GAAM,QAANC,EAAZD,EAAcF,YAAI,IAAAG,OAAN,EAAZA,EAAoBC,UAAWhC,EAAE,eAC5C,GAuB+BmB,UAC3BF,EAAAA,EAAAA,MAACgB,EAAAA,EAAK,CAACC,QAAS,EAAEf,SAAA,EAChBC,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CACRC,KAAK,QACLrB,KAAK,QACLsB,MAAOrC,EAAE,qBACTsC,SAAU3B,EACV4B,UAAQ,EACRC,WAAS,EACTC,QAAQ,cAEVrB,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CACRC,KAAK,WACLrB,KAAK,WACLsB,MAAOrC,EAAE,wBACTsC,SAAU3B,EACV4B,UAAQ,EACRC,WAAS,EACTC,QAAQ,cAEVxB,EAAAA,EAAAA,MAACgB,EAAAA,EAAK,CAACS,UAAU,MAAMR,QAAS,EAAGS,eAAe,WAAUxB,SAAA,EAC1DC,EAAAA,EAAAA,KAACwB,EAAAA,EAAM,CACLH,QAAQ,WACRI,MAAM,YACNC,QAAS/C,EACTqC,KAAK,SAAQjB,SAEZnB,EAAE,oBAELoB,EAAAA,EAAAA,KAACwB,EAAAA,EAAM,CAACH,QAAQ,YAAYI,MAAM,UAAUT,KAAK,SAAQjB,SACtDnB,EAAE,2BAKXoB,EAAAA,EAAAA,KAAA,OAAK2B,MAAO,CAAEC,UAAW,SAAUC,UAAW,QAAS9B,UACrDC,EAAAA,EAAAA,KAAC8B,EAAAA,GAAI,CAACC,GAAG,mBAAmBL,QAAS/C,EAAQoB,SAC1CnB,EAAE,4BAGNS,IACCW,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CAACC,SAAS,QAAQC,GAAI,CAAEC,GAAI,GAAIpC,SACnCV,KAGLQ,EAAAA,EAAAA,MAAA,OAAK8B,MAAO,CAAEE,UAAW,OAAQD,UAAW,UAAW7B,SAAA,EACrDC,EAAAA,EAAAA,KAAA,KAAAD,SAAInB,EAAE,oBACNoB,EAAAA,EAAAA,KAACoC,EAAAA,EAAW,CACVC,UApEoBnC,UAC1B,IACE,MAAME,QAAiBC,EAAAA,EAAUC,KAAK,qBAAsB,CAC1DgC,SAAUC,EAAmBC,cAEzB,MAAEjC,GAAUH,EAASI,KAC3B1B,EAAMyB,GACN5B,GACF,CAAE,MAAO8B,GAAM,IAADgC,EAAAC,EACZpD,GAAqB,QAAZmD,EAAAhC,EAAIL,gBAAQ,IAAAqC,GAAM,QAANC,EAAZD,EAAcjC,YAAI,IAAAkC,OAAN,EAAZA,EAAoB9B,UAAWhC,EAAE,2BAC5C,GA2DM+D,QAxDkBC,KACxBtD,EAASV,EAAE,0CA4Df,C","sources":["components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiClient from \"../services/api\";\nimport { GoogleLogin } from \"@react-oauth/google\";\nimport { useTranslation } from \"react-i18next\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport Alert from \"@mui/material/Alert\";\nimport { useAuth } from \"../context/AuthContext\";\n\nfunction Login({ onClose }) {\n  const { t } = useTranslation();\n  const { login } = useAuth();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [error, setError] = useState(\"\");\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      const response = await apiClient.post(\"/users/login\", formData);\n      const { token } = response.data;\n      login(token);\n      onClose();\n    } catch (err) {\n      setError(err.response?.data?.message || t(\"login_error\"));\n    }\n  };\n\n  const handleGoogleSuccess = async (credentialResponse) => {\n    try {\n      const response = await apiClient.post(\"/users/auth/google\", {\n        id_token: credentialResponse.credential,\n      });\n      const { token } = response.data;\n      login(token);\n      onClose();\n    } catch (err) {\n      setError(err.response?.data?.message || t(\"login_with_google_error\"));\n    }\n  };\n\n  const handleGoogleError = () => {\n    setError(t(\"login_with_google_error_retry\"));\n  };\n\n  return (\n    <div className=\"form-card\">\n      <h2>{t(\"login_title\")}</h2>\n      <form onSubmit={handleSubmit}>\n        <Stack spacing={2}>\n          <TextField\n            type=\"email\"\n            name=\"email\"\n            label={t(\"email_placeholder\")}\n            onChange={handleChange}\n            required\n            fullWidth\n            variant=\"outlined\"\n          />\n          <TextField\n            type=\"password\"\n            name=\"password\"\n            label={t(\"password_placeholder\")}\n            onChange={handleChange}\n            required\n            fullWidth\n            variant=\"outlined\"\n          />\n          <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={onClose}\n              type=\"button\"\n            >\n              {t(\"cancel_button\")}\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              {t(\"login_button\")}\n            </Button>\n          </Stack>\n        </Stack>\n      </form>\n      <div style={{ textAlign: \"center\", marginTop: \"10px\" }}>\n        <Link to=\"/forgot-password\" onClick={onClose}>\n          {t(\"forgot_your_password\")}\n        </Link>\n      </div>\n      {error && (\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\n          {error}\n        </Alert>\n      )}\n      <div style={{ marginTop: \"20px\", textAlign: \"center\" }}>\n        <p>{t(\"or_login_with\")}</p>\n        <GoogleLogin\n          onSuccess={handleGoogleSuccess}\n          onError={handleGoogleError}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Login;"],"names":["_ref","onClose","t","useTranslation","login","useAuth","formData","setFormData","useState","email","password","error","setError","handleChange","e","_objectSpread","target","name","value","_jsxs","className","children","_jsx","onSubmit","async","preventDefault","response","apiClient","post","token","data","err","_err$response","_err$response$data","message","Stack","spacing","TextField","type","label","onChange","required","fullWidth","variant","direction","justifyContent","Button","color","onClick","style","textAlign","marginTop","Link","to","Alert","severity","sx","mt","GoogleLogin","onSuccess","id_token","credentialResponse","credential","_err$response2","_err$response2$data","onError","handleGoogleError"],"sourceRoot":""}