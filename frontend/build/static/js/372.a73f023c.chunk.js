"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[372],{3372:(e,l,t)=>{t.r(l),t.d(l,{default:()=>_});var r=t(9379),a=t(5043),n=t(6305),s=t(5447),i=t(4117),o=t(2273),d=t(2097),u=t(298),c=t(6803),p=t(9441),h=t(579);const _=function(e){let{onClose:l}=e;const{t:t}=(0,i.Bd)(),[_,g]=(0,a.useState)({nombre:"",apellido:"",telefono:"",email:"",password:"",dni:"",direccion:"",ciudad:"",pais:"",tipo_usuario:"postulante"}),[x,m]=(0,a.useState)(""),[v,f]=(0,a.useState)(""),y=e=>{g((0,r.A)((0,r.A)({},_),{},{[e.target.name]:e.target.value}))};return(0,h.jsxs)("div",{className:"form-card",children:[(0,h.jsx)("h2",{children:t("register_title")}),(0,h.jsx)("form",{onSubmit:async e=>{e.preventDefault(),m(""),f("");try{await n.A.post("/users/register",_),f(t("register_success")),g({nombre:"",apellido:"",telefono:"",email:"",password:"",dni:"",direccion:"",ciudad:"",pais:"",tipo_usuario:"postulante"})}catch(a){var l,r;m((null===(l=a.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)||t("register_error"))}},children:(0,h.jsxs)(u.A,{spacing:2,children:[(0,h.jsx)(o.A,{type:"text",name:"nombre",label:t("name_placeholder"),value:_.nombre,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"text",name:"apellido",label:t("lastname_placeholder"),value:_.apellido,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"text",name:"telefono",label:t("phone_placeholder"),value:_.telefono,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"email",name:"email",label:t("email_placeholder"),value:_.email,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"password",name:"password",label:t("password_placeholder"),value:_.password,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"text",name:"dni",label:t("dni_placeholder"),value:_.dni,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"text",name:"direccion",label:t("address_placeholder"),value:_.direccion,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"text",name:"ciudad",label:t("city_placeholder"),value:_.ciudad,onChange:y,required:!0,fullWidth:!0}),(0,h.jsx)(o.A,{type:"text",name:"pais",label:t("country_placeholder"),value:_.pais,onChange:y,required:!0,fullWidth:!0}),(0,h.jsxs)(o.A,{select:!0,name:"tipo_usuario",label:t("user_type_label"),value:_.tipo_usuario,onChange:y,fullWidth:!0,children:[(0,h.jsx)(p.A,{value:"postulante",children:t("user_type_applicant")}),(0,h.jsx)(p.A,{value:"ofertante",children:t("user_type_offerer")})]}),(0,h.jsxs)(u.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,h.jsx)(d.A,{variant:"outlined",color:"secondary",onClick:l,type:"button",children:t("cancel_button")}),(0,h.jsx)(d.A,{variant:"contained",color:"primary",type:"submit",children:t("register_button")})]})]})}),x&&(0,h.jsx)(c.A,{severity:"error",sx:{mt:2},children:x}),v&&(0,h.jsx)(c.A,{severity:"success",sx:{mt:2},children:v}),(0,h.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,h.jsx)("p",{children:t("or_register_with")}),(0,h.jsx)(s.j,{onSuccess:async e=>{try{const r=await n.A.post("/users/auth/google",{id_token:e.credential}),{token:a}=r.data;localStorage.setItem("token",a),f(t("register_with_google_success")),l()}catch(s){var r,a;m((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||t("register_with_google_error"))}},onError:()=>{m(t("register_with_google_error_retry"))}})]})]})}}}]);
//# sourceMappingURL=372.a73f023c.chunk.js.map