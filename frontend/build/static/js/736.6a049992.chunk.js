"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[736],{2946:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(9379),i=r(5043),o=r(8789),s=r(4117),a=r(3969),l=r(5895),d=r(5315),c=r(2455),u=r(2579),h=r(6185),p=r(6020),x=r(8128),m=r(5362),f=r(579);const _=(0,x.Ay)(a.A,{shouldForwardProp:e=>"isDragActive"!==e})(e=>{let{theme:t,isDragActive:r}=e;return{border:"2px dashed ".concat(r?t.palette.primary.main:t.palette.divider),borderRadius:t.shape.borderRadius,padding:t.spacing(3),textAlign:"center",cursor:"pointer",backgroundColor:r?t.palette.action.hover:"transparent",transition:"border .24s ease-in-out, background-color .24s ease-in-out"}});const g=function(e){let{onFilesChange:t,uploadProgress:r,multiple:x}=e;const{t:g}=(0,s.Bd)(),[j,A]=(0,i.useState)([]),[v,b]=(0,i.useState)([]),y=(0,i.useCallback)((e,r)=>{const n=e.map(e=>Object.assign(e,{preview:URL.createObjectURL(e)}));if(A(x?e=>[...e,...n]:n),r.length>0){const e=r.map(e=>"".concat(e.file.name,": ").concat(e.errors.map(e=>e.message).join(", ")));b(e)}else b([]);e.length>0&&(t(e),x||A([]))},[x,t]);(0,i.useEffect)(()=>{100===r&&A([])},[r]);const{getRootProps:w,getInputProps:k,isDragActive:C}=(0,o.VB)({onDrop:y,accept:{"image/*":[".jpeg",".jpg",".png",".gif"]},maxSize:5242880,maxFiles:x?4:1});return(0,f.jsxs)(a.A,{children:[(0,f.jsxs)(_,(0,n.A)((0,n.A)({},w()),{},{isDragActive:C,children:[(0,f.jsx)("input",(0,n.A)({},k())),(0,f.jsx)(l.A,{children:g("drag_drop_files","Arrastra y suelta hasta 4 im\xe1genes aqu\xed, o haz clic para seleccionar")}),(0,f.jsx)(l.A,{variant:"body2",color:"textSecondary",children:g("file_constraints","Im\xe1genes (JPEG, PNG, GIF) de hasta 5MB cada una.")})]})),v.length>0&&(0,f.jsx)(a.A,{mt:2,children:v.map((e,t)=>(0,f.jsx)(l.A,{color:"error",children:e},t))}),j.length>0&&(0,f.jsx)(d.A,{sx:{mt:2},children:j.map((e,t)=>(0,f.jsxs)(c.Ay,{secondaryAction:(0,f.jsx)(u.A,{edge:"end","aria-label":"delete",onClick:()=>{return t=e,void A(e=>e.filter(e=>e!==t));var t},children:(0,f.jsx)(m.A,{})}),children:[(0,f.jsx)("img",{src:e.preview,alt:e.name,style:{width:50,height:50,marginRight:16,objectFit:"cover",borderRadius:4}}),(0,f.jsx)(h.A,{primary:e.name,secondary:"".concat((e.size/1024).toFixed(2)," KB")})]},t))}),r>0&&r<100&&(0,f.jsxs)(a.A,{sx:{width:"100%",mt:2},children:[(0,f.jsx)(p.A,{variant:"determinate",value:r}),(0,f.jsx)(l.A,{variant:"body2",color:"textSecondary",align:"center",children:"".concat(Math.round(r),"%")})]})]})}},9736:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Z});var n=r(5043),i=r(3216),o=r(6305),s=r(4117),a=r(3248),l=r(2532),d=r(1244),c=r(6128),u=r(5895),h=r(298),p=r(2097),x=r(6803),m=r(172),f=r(3969),_=r(3089),g=r(3435),j=r(2369),A=r(2152),v=r(5156),b=r(697),y=r(4956),w=r(8578),k=r(1530),C=r(579);const I=e=>{let{video:t,onAdd:r,onPlay:n}=e;return t?(0,C.jsx)(d.A,{sx:{height:"100%"},children:(0,C.jsxs)(y.A,{onClick:()=>n(t),children:[(0,C.jsx)(w.A,{component:"img",image:"http://localhost:5000/uploads/".concat(t.cover_image_url),alt:t.title,sx:{objectFit:"cover",maxHeight:100}}),(0,C.jsx)(c.A,{children:(0,C.jsx)(u.A,{gutterBottom:!0,variant:"h6",component:"div",noWrap:!0,children:t.title})})]})}):(0,C.jsx)(d.A,{sx:{height:"100%",display:"flex"},children:(0,C.jsxs)(y.A,{onClick:r,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",border:"2px dashed",borderColor:"divider"},children:[(0,C.jsx)(k.A,{sx:{fontSize:40,color:"text.secondary"}}),(0,C.jsx)(u.A,{sx:{mt:1,color:"text.secondary"},children:"A\xf1adir Video"})]})})};var S=r(3023),F=r(8776);const W=e=>{let{open:t,onClose:r,youtubeUrl:n}=e;const i=(e=>{if(!e)return null;const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null})(n);return(0,C.jsx)(S.A,{open:t,onClose:r,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:"black"}},children:(0,C.jsx)(F.A,{sx:{p:0},children:i?(0,C.jsx)(f.A,{sx:{position:"relative",paddingTop:"56.25%",height:0,overflow:"hidden"},children:(0,C.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(i,"?autoplay=1"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}):(0,C.jsx)(f.A,{sx:{p:4,color:"white",textAlign:"center"},children:"URL de video no v\xe1lida."})})})};var E=r(9379),P=r(1911),D=r(2273),R=r(9441),q=r(5877),L=r(7097),B=r(7488),N=r(2946);const z=e=>{let{open:t,onClose:r,video:i,onSave:l}=e;const{t:d}=(0,s.Bd)(),c=(0,a.jE)(),[f,_]=(0,n.useState)({id:(null===i||void 0===i?void 0:i.id)||null,title:(null===i||void 0===i?void 0:i.title)||"",youtube_url:(null===i||void 0===i?void 0:i.youtube_url)||"",position:(null===i||void 0===i?void 0:i.position)||"",coverImageFile:null}),[g,j]=(0,n.useState)(0),[A,v]=(0,n.useState)("");(0,n.useEffect)(()=>{_(i?{id:i.id,title:i.title,youtube_url:i.youtube_url,position:null===i.position||void 0===i.position?"":i.position,coverImageFile:null}:{id:null,title:"",youtube_url:"",position:"",coverImageFile:null}),v(""),j(0)},[t,i]);const b=e=>{const{name:t,value:r}=e.target;_(e=>(0,E.A)((0,E.A)({},e),{},{[t]:r}))},{mutate:y,isLoading:w}=(0,L.n)({mutationFn:e=>(async e=>{let{videoData:t,isEdit:r}=e;const n=new FormData;for(const i in t)"coverImageFile"===i&&t[i]?n.append("cover_image",t[i]):null!==t[i]&&void 0!==t[i]&&n.append(i,t[i]);if(r){const{data:e}=await o.A.put("/profiles/videos/".concat(t.id),n,{headers:{"Content-Type":"multipart/form-data"}});return e}{const{data:e}=await o.A.post("/profiles/videos",n,{headers:{"Content-Type":"multipart/form-data"}});return e}})(e),onSuccess:e=>{B.oR.success(e.message||d("video_saved_success")),c.invalidateQueries(["userVideos",null===i||void 0===i?void 0:i.user_id]),l(),r()},onError:e=>{var t,r;const n=(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||d("video_save_error");v(n),B.oR.error(n)},onSettled:()=>{j(0)}}),k=e=>{e.preventDefault(),v(""),y({videoData:f,isEdit:!!i})},I=Array.from({length:5},(e,t)=>t+1);return(0,C.jsxs)(S.A,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,C.jsx)(P.A,{children:d(i?"edit_video":"add_video")}),(0,C.jsx)(F.A,{children:(0,C.jsx)("form",{onSubmit:k,children:(0,C.jsxs)(h.A,{spacing:2,sx:{mt:1},children:[A&&(0,C.jsx)(x.A,{severity:"error",children:A}),(0,C.jsx)(D.A,{name:"title",label:d("video_title"),value:f.title,onChange:b,fullWidth:!0,required:!0}),(0,C.jsx)(D.A,{name:"youtube_url",label:d("youtube_link"),value:f.youtube_url,onChange:b,fullWidth:!0,required:!0}),(0,C.jsxs)(D.A,{select:!0,name:"position",label:d("video_position"),value:f.position,onChange:b,fullWidth:!0,required:!0,children:[(0,C.jsx)(R.A,{value:"",children:d("select_position_placeholder","Selecciona una posici\xf3n")}),I.map(e=>(0,C.jsx)(R.A,{value:e,children:e},e))]}),(0,C.jsx)(N.A,{onFilesChange:e=>{_(t=>(0,E.A)((0,E.A)({},t),{},{coverImageFile:e[0]||null}))},uploadProgress:g}),w&&(0,C.jsxs)(h.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,C.jsx)(m.A,{size:20}),(0,C.jsx)(u.A,{children:d("saving_video")})]})]})})}),(0,C.jsxs)(q.A,{children:[(0,C.jsx)(p.A,{onClick:r,disabled:w,children:d("cancel")}),(0,C.jsx)(p.A,{onClick:k,disabled:w,variant:"contained",children:d("save")})]})]})};var O=r(4527);const T=function(e){let{profileData:t,onSave:r,onCancel:i}=e;const{t:a}=(0,s.Bd)(),[l,m]=(0,n.useState)({nombre:t.nombre||"",apellido:t.apellido||"",telefono:t.telefono||"",nacionalidad:t.nacionalidad||"",posicion_principal:t.posicion_principal||"",resumen_profesional:t.resumen_profesional||"",cv_url:t.cv_url||"",linkedin_url:t.linkedin_url||"",instagram_url:t.instagram_url||"",youtube_url:t.youtube_url||"",transfermarkt_url:t.transfermarkt_url||"",altura_cm:t.altura_cm||"",peso_kg:t.peso_kg||"",pie_dominante:t.pie_dominante||"",fecha_de_nacimiento:(f=t.fecha_de_nacimiento,f?new Date(f).toISOString().split("T")[0]:"")});var f;const[_,g]=(0,n.useState)(null),[j,A]=(0,n.useState)(""),[v,b]=(0,n.useState)(!1),y=e=>{m((0,E.A)((0,E.A)({},l),{},{[e.target.name]:e.target.value}))};return(0,C.jsx)(d.A,{sx:{maxWidth:900,width:"100%",mt:4,mx:"auto"},children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(u.A,{variant:"h5",sx:{mb:2},children:a("edit_profile_title")}),(0,C.jsxs)(h.A,{direction:{xs:"column",md:"row"},spacing:4,className:"profile-edit-layout",children:[(0,C.jsxs)(h.A,{alignItems:"center",spacing:2,className:"profile-image-editor",children:[(0,C.jsx)(u.A,{children:a("profile_image")}),t.foto_perfil_url&&(0,C.jsx)("img",{src:"http://localhost:5000/uploads/".concat(t.foto_perfil_url),alt:"Perfil",className:"profile-pic-preview"}),(0,C.jsxs)(p.A,{variant:"outlined",component:"label",children:[a("select_file"),(0,C.jsx)("input",{id:"file-upload",type:"file",name:"foto_perfil",onChange:e=>{g(e.target.files[0])},hidden:!0})]}),_&&(0,C.jsxs)(u.A,{variant:"caption",children:[a("file")," ",_.name]})]}),(0,C.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),b(!0),A("");const t=new FormData;for(const r in l)t.append(r,l[r]);_&&t.append("foto_perfil",_);try{await o.A.put("/profiles/me",t),r()}catch(s){var n,i;A((null===(n=s.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||a("error_saving_profile"))}finally{b(!1)}},className:"profile-data-form",style:{flex:1},children:[(0,C.jsx)(u.A,{variant:"subtitle1",sx:{mb:1},children:a("personal_data_title")}),(0,C.jsxs)(h.A,{spacing:2,children:[(0,C.jsx)(D.A,{type:"text",name:"nombre",label:a("name_placeholder"),value:l.nombre,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"text",name:"apellido",label:a("lastname_placeholder"),value:l.apellido,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"date",name:"fecha_de_nacimiento",label:a("birth_date_placeholder"),value:l.fecha_de_nacimiento,onChange:y,fullWidth:!0,InputLabelProps:{shrink:!0}}),(0,C.jsx)(D.A,{type:"text",name:"nacionalidad",label:a("nationality_placeholder"),value:l.nacionalidad,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"text",name:"telefono",label:a("contact_phone_placeholder"),value:l.telefono,onChange:y,fullWidth:!0}),(0,C.jsx)(O.A,{sx:{my:2}}),(0,C.jsx)(u.A,{variant:"subtitle1",children:a("sport_data_title")}),(0,C.jsx)(D.A,{type:"text",name:"posicion_principal",label:a("main_position_placeholder"),value:l.posicion_principal,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"number",name:"altura_cm",label:a("height_placeholder"),value:l.altura_cm,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"number",name:"peso_kg",label:a("weight_placeholder"),value:l.peso_kg,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"text",name:"pie_dominante",label:a("dominant_foot_placeholder"),value:l.pie_dominante,onChange:y,fullWidth:!0}),(0,C.jsx)(O.A,{sx:{my:2}}),(0,C.jsx)(u.A,{variant:"subtitle1",children:a("summary_cv_title")}),(0,C.jsx)(D.A,{name:"resumen_profesional",label:a("professional_summary_placeholder"),value:l.resumen_profesional,onChange:y,fullWidth:!0,multiline:!0,rows:4}),(0,C.jsx)(D.A,{type:"text",name:"cv_url",label:a("cv_url_placeholder"),value:l.cv_url,onChange:y,fullWidth:!0}),(0,C.jsx)(O.A,{sx:{my:2}}),(0,C.jsx)(u.A,{variant:"subtitle1",children:a("social_networks_links_title")}),(0,C.jsx)(D.A,{type:"text",name:"linkedin_url",label:a("linkedin_placeholder"),value:l.linkedin_url,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"text",name:"instagram_url",label:a("instagram_placeholder"),value:l.instagram_url,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"text",name:"youtube_url",label:a("youtube_placeholder"),value:l.youtube_url,onChange:y,fullWidth:!0}),(0,C.jsx)(D.A,{type:"text",name:"transfermarkt_url",label:a("transfermarkt_placeholder"),value:l.transfermarkt_url,onChange:y,fullWidth:!0}),(0,C.jsxs)(h.A,{direction:"row",spacing:2,justifyContent:"flex-end",sx:{mt:2},children:[(0,C.jsx)(p.A,{type:"button",onClick:i,variant:"outlined",color:"secondary",children:a("cancel_button")}),(0,C.jsx)(p.A,{type:"submit",disabled:v,variant:"contained",color:"primary",children:a(v?"saving_button":"save_changes_button")})]}),j&&(0,C.jsx)(x.A,{severity:"error",children:j})]})]})]})]})})};var K=r(3325),M=r(2579),V=r(5362),Q=r(3468);const U=async e=>{let{userId:t,file:r}=e;const n=new FormData;n.append("photo",r);const{data:i}=await o.A.post("/profiles/".concat(t,"/photos"),n,{headers:{"Content-Type":"multipart/form-data"}});return i},G=async e=>{let{userId:t,photoId:r}=e;const{data:n}=await o.A.delete("/profiles/".concat(t,"/photos/").concat(r));return n},Y=e=>{let{userId:t,isMyProfile:r}=e;const{t:i}=(0,s.Bd)(),d=(0,a.jE)(),[c,g]=(0,n.useState)(!1),[j,A]=(0,n.useState)(null),{data:v,isLoading:b,isError:y,error:w}=(0,l.I)({queryKey:["userPhotos",t],queryFn:()=>(async e=>{const{data:t}=await o.A.get("/profiles/".concat(e,"/photos"));return t})(t)}),k=(0,L.n)({mutationFn:U,onSuccess:e=>{B.oR.success(e.message||i("photo_upload_success")),d.invalidateQueries(["userPhotos",t]),g(!1)},onError:e=>{var t,r;B.oR.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||i("photo_upload_error"))}}),I=(0,L.n)({mutationFn:G,onSuccess:e=>{B.oR.success(e.message||i("photo_delete_success")),d.invalidateQueries(["userPhotos",t])},onError:e=>{var t,r;B.oR.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||i("photo_delete_error"))}}),W=(0,n.useCallback)(e=>{if(e.length>0){if(v&&v.length+e.length>5)return void B.oR.error(i("max_photos_reached","You can only upload up to 5 photos."));k.mutate({userId:t,file:e[0]})}},[t,v,k,i]),E=()=>{A(null)};return(0,C.jsxs)(h.A,{sx:{mt:4,mb:2},children:[(0,C.jsx)(u.A,{variant:"h5",sx:{mb:2},children:i("profile_photos_title","Fotos del Perfil")}),b?(0,C.jsx)(m.A,{}):y?(0,C.jsx)(x.A,{severity:"error",children:w.message||i("error_loading_photos","Error al cargar fotos.")}):(0,C.jsxs)(_.A,{container:!0,spacing:2,children:[null===v||void 0===v?void 0:v.map(e=>(0,C.jsx)(_.A,{item:!0,xs:6,sm:4,md:3,children:(0,C.jsxs)(f.A,{sx:{position:"relative",width:"100%",height:150,overflow:"hidden",borderRadius:1,cursor:"pointer","&:hover .delete-button":{opacity:1}},onClick:()=>(e=>{A(e)})(e),children:[(0,C.jsx)("img",{src:"http://localhost:5000/uploads/".concat(e.url),alt:i("profile_photo"),style:{width:"100%",height:"100%",objectFit:"scale-down",imageOrientation:"from-image"}}),r&&(0,C.jsx)(M.A,{color:"error",size:"small",sx:{position:"absolute",top:4,right:4,backgroundColor:"rgba(255, 255, 255, 0.7)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},className:"delete-button",onClick:r=>{var n;r.stopPropagation(),n=e.id,window.confirm(i("confirm_delete_photo","Are you sure you want to delete this photo?"))&&I.mutate({userId:t,photoId:n})},children:(0,C.jsx)(V.A,{fontSize:"small"})})]})},e.id)),r&&(null===v||void 0===v?void 0:v.length)<5&&!c&&(0,C.jsx)(_.A,{item:!0,xs:12,children:(0,C.jsx)(p.A,{variant:"contained",startIcon:(0,C.jsx)(Q.A,{}),onClick:()=>g(!0),sx:{mt:1},children:i("add_photo")})})]}),r&&c&&(0,C.jsxs)(f.A,{sx:{mt:2},children:[(0,C.jsx)(u.A,{variant:"subtitle1",sx:{mb:1},children:i("upload_new_photo")}),(0,C.jsx)(N.A,{onFilesChange:W,multiple:!1}),(0,C.jsx)(p.A,{onClick:()=>g(!1),sx:{mt:1},children:i("cancel")})]}),(0,C.jsxs)(S.A,{open:!!j,onClose:E,maxWidth:"md",children:[(0,C.jsx)(F.A,{children:j&&(0,C.jsx)("img",{src:"http://localhost:5000/uploads/".concat(j.url),alt:i("profile_photo"),style:{maxWidth:"100%",height:"auto",display:"block",margin:"auto"}})}),(0,C.jsx)(q.A,{children:(0,C.jsx)(p.A,{onClick:E,children:i("close")})})]})]})};var H=r(5475);const J=function(e){let{userId:t,isOwnProfile:r,isAdmin:i}=e;const{t:a}=(0,s.Bd)(),[l,f]=(0,n.useState)([]),[_,g]=(0,n.useState)(!0),[j,A]=(0,n.useState)("");return(0,n.useEffect)(()=>{t&&(async()=>{g(!0),A("");try{const e=await o.A.get("/profiles/".concat(t,"/offers"));f(e.data)}catch(n){var e,r;A((null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||a("error_loading_offers")),console.error("Error fetching offers:",n)}finally{g(!1)}})()},[t,a]),_?(0,C.jsxs)(h.A,{alignItems:"center",sx:{mt:2},children:[(0,C.jsx)(m.A,{}),(0,C.jsx)(u.A,{sx:{ml:2},children:a("loading_offers")})]}):j?(0,C.jsx)(x.A,{severity:"error",children:j}):0===l.length?(0,C.jsx)(u.A,{children:a("no_offers_published_yet")}):(0,C.jsxs)(h.A,{className:"my-lists-section",spacing:2,sx:{mt:2},children:[(0,C.jsx)(u.A,{variant:"h6",children:a("my_published_offers")}),(0,C.jsx)(h.A,{className:"offers-list-container",spacing:2,children:l.map(e=>(0,C.jsx)(d.A,{className:"offer-item",children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(u.A,{variant:"h6",component:H.N_,to:"/offers/".concat(e.id),sx:{textDecoration:"none"},children:e.titulo}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:a("status")})," ",e.estado]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:a("date")})," ",new Date(e.fecha_publicacion).toLocaleDateString()]}),(0,C.jsxs)(u.A,{children:[e.descripcion.substring(0,100),"..."]}),(0,C.jsx)(p.A,{component:H.N_,to:"/offers/".concat(e.id,"/applicants"),variant:"outlined",color:"primary",sx:{mt:1},children:a("view_applicants")})]})},e.id))})]})};const Z=function(){const{t:e}=(0,s.Bd)(),{userId:t}=(0,i.g)(),r=(0,i.Zp)(),{user:y}=(0,b.A)(),w=(0,a.jE)(),[k,S]=(0,n.useState)(!1),[F,E]=(0,n.useState)(null),[P,D]=(0,n.useState)(!1),[R,q]=(0,n.useState)(null),[L,B]=(0,n.useState)(!1),N=()=>{B(!1)},{data:O,isLoading:M,isError:V,error:Q}=(0,l.I)({queryKey:["profile",t],queryFn:()=>(async e=>{const{data:t}=await o.A.get("/profiles/".concat(e));return t})(t)}),{data:U,isLoading:G,isError:H,error:Z}=(0,l.I)({queryKey:["userVideos",t],queryFn:()=>(async e=>{const{data:t}=await o.A.get("/profiles/".concat(e,"/videos"));return t})(t)}),{data:X,isLoading:$,isError:ee,error:te}=(0,l.I)({queryKey:["userApplications",t],queryFn:()=>(async e=>{const{data:t}=await o.A.get("/profiles/".concat(e,"/applications"));return t})(t),enabled:!!y&&(y.id===parseInt(t,10)||y.isAdmin)}),{isLoading:re,isError:ne,error:ie}=(0,l.I)({queryKey:["userOffers",t],queryFn:()=>(async e=>{const{data:t}=await o.A.get("/profiles/".concat(e,"/offers"));return t})(t),enabled:!!O&&("ofertante"===O.tipo_usuario||"agencia"===O.tipo_usuario)}),oe=y&&y.id===parseInt(t,10),se=e=>{E(e),S(!0)},ae=function(){q(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),D(!0)};if(M)return(0,C.jsxs)(h.A,{alignItems:"center",sx:{mt:4},children:[(0,C.jsx)(m.A,{}),(0,C.jsx)(u.A,{sx:{mt:2},children:e("loading_profile")})]});if(V)return(0,C.jsx)(x.A,{severity:"error",children:Q.message||e("error_loading_profile")});if(!O)return(0,C.jsx)(x.A,{severity:"warning",children:e("profile_not_found")});const le=Array(5).fill(null);return null===U||void 0===U||U.forEach(e=>{e.position>=1&&e.position<=5&&(le[e.position-1]=e)}),(0,C.jsxs)(h.A,{alignItems:"center",sx:{mt:4},children:[(0,C.jsx)(d.A,{sx:{maxWidth:900,width:"100%"},elevation:3,children:(0,C.jsxs)(c.A,{children:[(0,C.jsxs)(h.A,{direction:{xs:"column",sm:"row"},spacing:3,alignItems:"flex-start",sx:{mb:4},children:[O.foto_perfil_url&&(0,C.jsx)(f.A,{sx:{flexShrink:0},children:(0,C.jsx)("img",{src:"http://localhost:5000/uploads/".concat(O.foto_perfil_url),alt:e("profile_image"),style:{width:150,height:150,borderRadius:"50%",objectFit:"cover",border:"2px solid #ccc"}})}),(0,C.jsxs)(f.A,{sx:{flexGrow:1},children:[(0,C.jsxs)(u.A,{variant:"h4",sx:{mb:1},children:[O.nombre," ",O.apellido]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("email_label")})," ",O.email]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("phone_placeholder")})," ",O.telefono||e("not_specified")]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("nationality")})," ",O.nacionalidad||e("not_specified")]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("position")})," ",O.posicion_principal||e("not_specified")]})]}),oe&&(0,C.jsx)(p.A,{variant:"contained",sx:{mt:2},onClick:()=>{B(!0)},children:e("edit_profile_button","Editar Perfil")})]}),(0,C.jsx)(u.A,{variant:"h6",sx:{mt:2,mb:1},children:e("social_networks_links_title")}),(0,C.jsxs)(h.A,{direction:"row",spacing:2,sx:{mb:3},children:[O.linkedin_url&&(0,C.jsx)(p.A,{variant:"outlined",startIcon:(0,C.jsx)(g.A,{}),href:O.linkedin_url,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"}),O.instagram_url&&(0,C.jsx)(p.A,{variant:"outlined",startIcon:(0,C.jsx)(j.A,{}),href:O.instagram_url,target:"_blank",rel:"noopener noreferrer",children:"Instagram"}),O.youtube_url&&(0,C.jsx)(p.A,{variant:"outlined",startIcon:(0,C.jsx)(A.A,{}),href:O.youtube_url,target:"_blank",rel:"noopener noreferrer",children:"YouTube"}),O.transfermarkt_url&&(0,C.jsx)(p.A,{variant:"outlined",startIcon:(0,C.jsx)(v.A,{}),href:O.transfermarkt_url,target:"_blank",rel:"noopener noreferrer",children:"Transfermarkt"})]}),(0,C.jsx)(u.A,{variant:"h6",sx:{mt:2,mb:1},children:e("physical_data")}),(0,C.jsxs)(h.A,{spacing:1,sx:{mb:3},children:[(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("height")})," ",O.altura_cm?"".concat(O.altura_cm," cm"):e("not_specified")]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("weight")})," ",O.peso_kg?"".concat(O.peso_kg," kg"):e("not_specified")]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("dominant_foot")})," ",O.pie_dominante||e("not_specified")]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)("strong",{children:e("professional_summary")})," ",O.resumen_profesional||e("no_summary_available")]}),O.cv_url&&(0,C.jsx)(p.A,{variant:"outlined",sx:{mt:2},href:O.cv_url,target:"_blank",rel:"noopener noreferrer",children:e("download_cv")})]}),(0,C.jsx)(Y,{userId:t,isMyProfile:oe}),(0,C.jsx)(u.A,{variant:"h5",sx:{mt:4,mb:2},children:e("profile_videos_title","Videos del Perfil")}),G?(0,C.jsx)(m.A,{}):H?(0,C.jsx)(x.A,{severity:"error",children:Z.message||e("error_loading_videos","Error al cargar videos.")}):(0,C.jsxs)(_.A,{container:!0,spacing:2,children:[" ",le.map((e,t)=>(0,C.jsxs)(_.A,{item:!0,xs:12,sm:6,md:4,children:[" ",(0,C.jsx)(I,{video:e,onAdd:()=>oe&&ae({position:t+1}),onPlay:se})]},t))]}),oe&&(0,C.jsx)(p.A,{variant:"contained",sx:{mt:3},onClick:()=>ae(),children:e("add_new_video","A\xf1adir nuevo video")}),oe&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.A,{variant:"h5",sx:{mt:4,mb:2},children:e("my_applications_title","Mis Postulaciones")}),$?(0,C.jsx)(m.A,{}):ee?(0,C.jsx)(x.A,{severity:"error",children:te.message||e("error_loading_applications","Error al cargar postulaciones.")}):0===(null===X||void 0===X?void 0:X.length)?(0,C.jsx)(u.A,{children:e("no_applications_yet","A\xfan no tienes postulaciones.")}):(0,C.jsx)(h.A,{spacing:1,children:null===X||void 0===X?void 0:X.map(t=>(0,C.jsxs)(d.A,{variant:"outlined",sx:{p:2},children:[(0,C.jsx)(u.A,{variant:"h6",children:t.oferta_titulo}),(0,C.jsxs)(u.A,{variant:"body2",children:[(0,C.jsxs)("strong",{children:[e("status"),":"]})," ",t.estado]}),(0,C.jsxs)(u.A,{variant:"body2",children:[(0,C.jsxs)("strong",{children:[e("date"),":"]})," ",new Date(t.fecha_postulacion).toLocaleDateString()]}),(0,C.jsx)(p.A,{size:"small",onClick:()=>r("/offers/".concat(t.oferta_id)),children:e("view_offer")})]},t.id))})]}),"ofertante"===O.tipo_usuario||"agencia"===O.tipo_usuario?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.A,{variant:"h5",sx:{mt:4,mb:2},children:e("my_offers_title","Mis Ofertas")}),re?(0,C.jsx)(m.A,{}):ne?(0,C.jsx)(x.A,{severity:"error",children:ie.message||e("error_loading_offers","Error al cargar las ofertas.")}):(0,C.jsx)(J,{userId:t,isOwnProfile:oe,isAdmin:null===y||void 0===y?void 0:y.isAdmin})]}):null]})}),F&&(0,C.jsx)(W,{open:k,onClose:()=>{E(null),S(!1)},youtubeUrl:F.youtube_url}),P&&(0,C.jsx)(z,{open:P,onClose:()=>{q(null),D(!1)},video:R,onSave:()=>{w.invalidateQueries(["userVideos",t])}}),L&&O&&(0,C.jsx)(K.A,{open:L,onClose:N,"aria-labelledby":"edit-profile-modal-title","aria-describedby":"edit-profile-modal-description",children:(0,C.jsx)(f.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"90%",sm:"70%",md:"50%"},bgcolor:"background.paper",boxShadow:24,p:4,maxHeight:"90vh",overflowY:"auto",borderRadius:2},children:(0,C.jsx)(T,{profileData:O,onSave:()=>{w.invalidateQueries(["profile",t]),N()},onCancel:N})})})]})}}}]);
//# sourceMappingURL=736.6a049992.chunk.js.map